<%- layout('layouts/main.ejs') %>

<h1>New label</h1>

<div class="col-sm-3">
    <form action="/new_label" method="post">
        <div class="mb-3">
            <!-- Label name -->
            <label class="form-label">Label</label>
            <input type="text" class="form-control" name="label">
            <!-- Tracks -->
            <label class="form-label">Associate it to tracks</label>
            <!-- If no tracks -->
            <% if(tracks.length == 0){ %>
                <div class="card" style="width: 18rem;">
                    <h5>No tracks yet</h5>
                </div>
            <!-- If tracks -->
            <% } else{ %>
                <ul class="list-group">
                    <% tracks.forEach(function(track){ %>
                    <li class="list-group-item">
                        <!-- Checkbox -->
                        <input class="form-check-input" type="checkbox" name="<%= track.id %>" id="<%= track.id %>">
                            <label class="form-check-label" for="<%= track.id %>">
                                <%= track.name %>
                            </label>
                    </li>
                    <% }); %>
                </ul>
            <% } %>
        </div>
        <button type="submit" class="btn btn-primary">Submit</button>
    </form>
</div>